

<div class="block-header">
  <h2>Edit Profile</h2>
</div>
<div class="card" id="profile-main">
  <%= form_for @user do |f| %>
    <% if @user.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

        <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="pm-overview c-overflow">
      <div class="pmo-pic">
        <div class="p-relative">
          <a type="Button" class="pmop-edit" data-toggle="modal" data-target="#myModal">
            <i class="zmdi zmdi-camera"></i>
            <span class="hidden-xs">Update Profile Picture</span>
          </a>
          <%#= render partial: 'avatar', :ff => f %>
          <% if @user.avatar.blank? %>
             <%= image_tag('user.jpg', :class => 'img-responsive img-rounded md-margin-bottom-10') %>
           <%else%>
             <%= image_tag(@user.avatar) %>
           <%end%>
        </div>
      </div>


      <div class="pmo-block pmo-contact hidden-xs">
          <h2>Contact</h2>
          <ul>
              <li><i class="zmdi zmdi-phone"></i>
                    <%= current_user.phone_number%>
              </li>
              <li><i class="zmdi zmdi-email"></i> <%= current_user.email%></li>
          </ul>
      </div>
    </div>

    <div class="pm-body clearfix">
      <div class="pmb-block">
          <div class="pmbb-header">
              <h2><i class="zmdi zmdi-equalizer m-r-5"></i>Summary</h2>
          </div>
          <div class="pmbb-body p-l-30">
              <div class="pmbb-view" data-ng-if="pctrl.editSummary === 0">
                <div class="form-group ">
                  <div class="fg-line">
                    <%= f.text_area :description, class: "form-control floatlabel", placeholder: "Description", :size => "100x5" %>
                  </div>
                </div>
              </div>
          </div>
      </div>

      <div class="pmb-block">
          <div class="pmbb-header">
              <h2><i class="zmdi zmdi-person m-r-5"></i> Basic Information</h2>
          </div>
          <div class="pmbb-body p-l-30">
              <div class="pmbb-view" data-ng-if="pctrl.editInfo === 0">
                  <dl class="dl-horizontal">
                      <dt><br>Full Name</dt>
                      <dd><div class="form-group ">
                        <div class="fg-line">
                          <%= f.text_field :name, class: "form-control floatlabel", placeholder: "Name" %>
                        </div>
                        </div>
                      </dd>
                  </dl>
                  <dl class="dl-horizontal">
                      <dt><br>Gender</dt>
                      <dd>
                        <div class="form-group">
                           <div class="fg-line">
                             <select class="selectpicker" name="user[gender]" id="user_gender">
                               <option value="Male">Male</option>
                               <option value="Female">Female</option>
                             </select>
                           </div>
                         </div>
                      </dd>
                  </dl>
                  <dl class="dl-horizontal">
                      <dt><br>Birth Date</dt>
                      <dd>
                        <div class="input-group form-group">
                          <span class="input-group-addon">
                            <i class="zmdi zmdi-calendar"></i>
                          </span>
                          <div class="dtp-container fg-line">
                            <input type="text" name="user[birth_date]" id="user_birth_date" class="form-control date-picker" placeholder="Birth date">
                          </div>
                        </div>
                      </dd>
                  </dl>
                  <dl class="dl-horizontal">
                      <dt><br>Martial Status</dt>
                      <dd>
                        <div class="form-group">
                           <div class="fg-line">
                             <select class="selectpicker" name="user[martial_status]" id="user_martial_status">
                               <option value="Single">Single</option>
                               <option value="Married">Married</option>
                               <option value="Divorced">Divorced</option>
                             </select>
                           </div>
                         </div>
                      </dd>
                  </dl>
              </div>
          </div>
      </div>
      <div class="pmb-block">
          <div class="pmbb-header">
              <h2><i class="zmdi zmdi-phone m-r-5"></i> Contact Information</h2>
          </div>
          <div class="pmbb-body p-l-30">
              <div class="pmbb-view" data-ng-if="pctrl.editContact === 0">
                  <dl class="dl-horizontal">
                      <dt><br>Mobile Phone</dt>
                      <dd>
                        <div class="form-group ">
                          <div class="fg-line">
                            <%= f.text_field :phone_number, class: "form-control floatlabel", placeholder: "Phone Number" %>
                          </div>
                        </div>
                     </dd>
                  </dl>
                  <dl class="dl-horizontal">
                      <dt><br>Email Address</dt>
                      <dd>
                        <div class="form-group ">
                          <div class="fg-line">
                            <%= f.text_field :email, class: "form-control floatlabel", placeholder: "Phone Number" %>
                          </div>
                        </div>
                      </dd>
                  </dl>
              </div>
          </div>
      </div>
      <% end %>
      <div class="pmb-block">
        <button class="btn btn-primary btn-lg" type="submit" form="edit_user_<%=current_user.id%>" value="Submit">Update</button>
      </div>
    </div>
</div>
